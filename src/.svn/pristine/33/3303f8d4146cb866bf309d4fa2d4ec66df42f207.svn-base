public class Player extends Character {

    //Le singleton
    private static Player single;

    private String playerName;
    private String playerClass;
    private int xp;
    private int xpMax;
    private int hpMax;

    // Calcul xp gagné
	// (((mobXp*mobLvl)/5)*(((2*mobLvl+10)^2.5)/((MobLvl*lvl+10)^2.5))+1)
	// See also:
	// http://bulbapedia.bulbagarden.net/wiki/Experience
	// http://bulbapedia.bulbagarden.net/wiki/List_of_Pok%C3%A9mon_by_effort_value_yield

    // Constructeur en private pour faire le singleton
	private Player(HeroTypes playerClass, String playerName) {

		lvl = 1;
        xp = 0;
		Character unit;

        this.playerName = playerName;
		
		switch(playerClass)
        {
            case JEDI:
            	unit = new Jedi();
                this.playerClass = "Jedi";
            	break;

            case SITH:
            	unit = new Sith();
                this.playerClass = "Sith";
            	break;

            case BOUNTYHUNTER:
            	unit = new BountyHunter();
                this.playerClass = "Bounty Hunter";
            	break;

            case IMPERIALAGENT:
        		unit = new ImperialAgent();
                this.playerClass = "Imperial Agent";
        		break;

            case MERCENARY:
            	unit = new Mercenary();
                this.playerClass = "Mercenary";
        		break;

            case JAWA:
            	unit = new Jawa();
                this.playerClass = "Jawa";
        		break;
        }
	}
	
	public void levelup() {
        this.lvl += 1;
        this.xpMax = (int) (4 * Math.pow(lvl, 3)) / 5;
        this.hpMax *= 1.5;
        this.hp = hpMax;
        this.def *= 1.5;
        this.power *= 1.5;
        this.force *= 1.5;
        this.intelligence *= 1.5;
    }

    // Méthode d'accès au singleton
    public static Player getInstance(HeroTypes playerClass, String playerName){
        if(single == null)
            single = new Player(playerClass, playerName);

        return single;
    }
	
	// SETTERS
	public void setHp(int hp) {
		this.hp = hp;
	}
	
	// GETTERS
    public String getPlayerName() {
        return this.playerName;
    }
    public String getPlayerClass() {
        return this.playerClass;
    }
	public int getHp() {
		return this.hp;
	}
	public int getLvl() {
		return this.lvl;
	}
}
